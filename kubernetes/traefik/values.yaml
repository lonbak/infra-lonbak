# Traefik Helm Chart Values
# Install: helm upgrade --install traefik traefik/traefik -n traefik -f values.yaml

# Deployment configuration
deployment:
  replicas: 1

# Service configuration
service:
  type: LoadBalancer
  spec:
    loadBalancerIP: "192.168.0.12"  # K3s node IP

# Entrypoints
ports:
  web:
    port: 8000
    exposedPort: 80
    expose:
      default: true
    protocol: TCP
  websecure:
    port: 8443
    exposedPort: 443
    expose:
      default: true
    protocol: TCP

# Enable dashboard
ingressRoute:
  dashboard:
    enabled: true
    matchRule: Host(`traefik.lonbak.local`)
    entryPoints: ["web"]

# Access logs
logs:
  access:
    enabled: true

# Providers
providers:
  kubernetesCRD:
    enabled: true
    allowCrossNamespace: true
  kubernetesIngress:
    enabled: true
    allowExternalNameServices: true

# Resource limits
resources:
  requests:
    cpu: "50m"
    memory: "64Mi"
  limits:
    cpu: "200m"
    memory: "128Mi"
